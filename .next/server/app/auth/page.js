(()=>{var e={};e.id=235,e.ids=[235],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},80971:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>d,routeModule:()=>m,tree:()=>u});var t=r(67096),i=r(16132),a=r(37284),n=r.n(a),o=r(32564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let u=["",{children:["auth",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,40495)),"/tmp/vinnywalker96/kg-components/app/auth/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,70029)),"/tmp/vinnywalker96/kg-components/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,44293)),"/tmp/vinnywalker96/kg-components/app/not-found.tsx"]}],d=["/tmp/vinnywalker96/kg-components/app/auth/page.tsx"],c="/auth/page",p={require:r,loadChunk:()=>Promise.resolve()},m=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/auth/page",pathname:"/auth",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},75040:(e,s,r)=>{Promise.resolve().then(r.bind(r,22114))},22114:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>h});var t=r(53854),i=r(34218),a=r(51018),n=r(63165),o=r(93163),l=r(7857),u=r(24769),d=r(24809),c=r(74012),p=r(26965),m=r(73661);let g=(0,c.Ue)()((0,p.tJ)((e,s)=>({user:null,isLoading:!1,error:null,login:async(s,r)=>{e({isLoading:!0,error:null});try{let t=(0,m.e)(),{data:i,error:a}=await t.auth.signInWithPassword({email:s,password:r});if(a)throw a;if(i.user){let{data:s}=await t.from("profiles").select("*").eq("id",i.user.id).single();e({user:{id:i.user.id,email:i.user.email,name:s?.name,role:s?.role||"user"},isLoading:!1})}}catch(s){throw e({error:s.message,isLoading:!1}),s}},signup:async(s,r,t)=>{e({isLoading:!0,error:null});try{let i=(0,m.e)(),{data:a,error:n}=await i.auth.signUp({email:s,password:r});if(n)throw n;a.user&&(await i.from("profiles").insert({id:a.user.id,email:a.user.email,name:t,role:"user"}),e({user:{id:a.user.id,email:a.user.email,name:t,role:"user"},isLoading:!1}))}catch(s){throw e({error:s.message,isLoading:!1}),s}},logout:async()=>{e({isLoading:!0,error:null});try{let s=(0,m.e)(),{error:r}=await s.auth.signOut();if(r)throw r;e({user:null,isLoading:!1})}catch(s){throw e({error:s.message,isLoading:!1}),s}},updateProfile:async r=>{e({isLoading:!0,error:null});try{let t=(0,m.e)(),{user:i}=s();if(!i)throw Error("Not authenticated");let{error:a}=await t.from("profiles").update(r).eq("id",i.id);if(a)throw a;e({user:{...i,...r},isLoading:!1})}catch(s){throw e({error:s.message,isLoading:!1}),s}},checkAuth:async()=>{e({isLoading:!0,error:null});try{let s=(0,m.e)(),{data:r}=await s.auth.getSession();if(r.session?.user){let{data:t}=await s.from("profiles").select("*").eq("id",r.session.user.id).single();e({user:{id:r.session.user.id,email:r.session.user.email,name:t?.name,role:t?.role||"user"},isLoading:!1})}else e({user:null,isLoading:!1})}catch(s){e({error:s.message,isLoading:!1,user:null})}}}),{name:"kg-components-auth"}));var f=r(76642);function h(){let e=(0,a.useRouter)(),{login:s,signup:r}=g(),{toast:c}=(0,f.p)(),[p,m]=(0,i.useState)(!1),[h,x]=(0,i.useState)(""),[v,y]=(0,i.useState)(""),[b,w]=(0,i.useState)(""),[j,q]=(0,i.useState)(""),[N,P]=(0,i.useState)(""),[_,L]=(0,i.useState)(""),k=async r=>{if(r.preventDefault(),!h||!v){c({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}try{m(!0),await s(h,v),c({title:"Success",description:"You have been logged in successfully"}),e.push("/account")}catch(e){c({title:"Error",description:e.message||"Failed to login",variant:"destructive"})}finally{m(!1)}},C=async s=>{if(s.preventDefault(),!b||!j||!N||!_){c({title:"Error",description:"Please fill in all fields",variant:"destructive"});return}if(N!==_){c({title:"Error",description:"Passwords do not match",variant:"destructive"});return}try{m(!0),await r(j,N,b),c({title:"Success",description:"Your account has been created successfully"}),e.push("/account")}catch(e){c({title:"Error",description:e.message||"Failed to create account",variant:"destructive"})}finally{m(!1)}};return t.jsx("div",{className:"container mx-auto py-12",children:t.jsx("div",{className:"max-w-md mx-auto",children:t.jsx(n.Zb,{className:"p-6",children:(0,t.jsxs)(o.Tabs,{defaultValue:"login",children:[(0,t.jsxs)(o.TabsList,{className:"grid w-full grid-cols-2 mb-6",children:[t.jsx(o.TabsTrigger,{value:"login",children:"Login"}),t.jsx(o.TabsTrigger,{value:"signup",children:"Sign Up"})]}),t.jsx(o.TabsContent,{value:"login",children:(0,t.jsxs)("form",{onSubmit:k,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"email",children:"Email"}),t.jsx(u.I,{id:"email",type:"email",placeholder:"your@email.com",value:h,onChange:e=>x(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(d._,{htmlFor:"password",children:"Password"}),t.jsx("a",{href:"#",className:"text-sm text-primary hover:underline",children:"Forgot password?"})]}),t.jsx(u.I,{id:"password",type:"password",value:v,onChange:e=>y(e.target.value),required:!0})]}),t.jsx(l.z,{type:"submit",className:"w-full",disabled:p,children:p?"Logging in...":"Login"})]})}),t.jsx(o.TabsContent,{value:"signup",children:(0,t.jsxs)("form",{onSubmit:C,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"name",children:"Full Name"}),t.jsx(u.I,{id:"name",placeholder:"John Doe",value:b,onChange:e=>w(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"signup-email",children:"Email"}),t.jsx(u.I,{id:"signup-email",type:"email",placeholder:"your@email.com",value:j,onChange:e=>q(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"signup-password",children:"Password"}),t.jsx(u.I,{id:"signup-password",type:"password",value:N,onChange:e=>P(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"confirm-password",children:"Confirm Password"}),t.jsx(u.I,{id:"confirm-password",type:"password",value:_,onChange:e=>L(e.target.value),required:!0})]}),t.jsx(l.z,{type:"submit",className:"w-full",disabled:p,children:p?"Creating account...":"Create Account"})]})})]})})})})}},24769:(e,s,r)=>{"use strict";r.d(s,{I:()=>n});var t=r(53854),i=r(34218),a=r(56370);let n=i.forwardRef(({className:e,type:s,...r},i)=>t.jsx("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));n.displayName="Input"},93163:(e,s,r)=>{"use strict";r.r(s),r.d(s,{Tabs:()=>o,TabsContent:()=>d,TabsList:()=>l,TabsTrigger:()=>u});var t=r(53854),i=r(34218),a=r(46554),n=r(56370);let o=a.fC,l=i.forwardRef(({className:e,...s},r)=>t.jsx(a.aV,{ref:r,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));l.displayName=a.aV.displayName;let u=i.forwardRef(({className:e,...s},r)=>t.jsx(a.xz,{ref:r,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));u.displayName=a.xz.displayName;let d=i.forwardRef(({className:e,...s},r)=>t.jsx(a.VY,{ref:r,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));d.displayName=a.VY.displayName},73661:(e,s,r)=>{"use strict";r.d(s,{e:()=>i});var t=r(83045);let i=()=>{let e="https://your-supabase-url.supabase.co",s="your-supabase-anon-key";if(!e||!s)throw Error("Missing Supabase environment variables");return(0,t.eI)(e,s)}},40495:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>a,default:()=>l});var t=r(95153);let i=(0,t.createProxy)(String.raw`/tmp/vinnywalker96/kg-components/app/auth/page.tsx`),{__esModule:a,$$typeof:n}=i,o=i.default,l=o}};var s=require("../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[729,416,554,965,66],()=>r(80971));module.exports=t})();