"use strict";(()=>{var e={};e.id=354,e.ids=[354,660],e.modules={94933:(e,r,a)=>{a.d(r,{Z:()=>t});var s=a(84297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let t=(0,s.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},44659:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.r(r),a.d(r,{config:()=>x,default:()=>m,getServerSideProps:()=>h,getStaticPaths:()=>g,getStaticProps:()=>f,reportWebVitals:()=>b,routeModule:()=>S,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>N,unstable_getStaticParams:()=>w,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>y});var t=a(87093),i=a(35244),l=a(1323),n=a(60687),o=a.n(n),d=a(56041),c=a.n(d),u=a(99800),p=e([u]);u=(p.then?(await p)():p)[0];let m=(0,l.l)(u,"default"),f=(0,l.l)(u,"getStaticProps"),g=(0,l.l)(u,"getStaticPaths"),h=(0,l.l)(u,"getServerSideProps"),x=(0,l.l)(u,"config"),b=(0,l.l)(u,"reportWebVitals"),y=(0,l.l)(u,"unstable_getStaticProps"),v=(0,l.l)(u,"unstable_getStaticPaths"),w=(0,l.l)(u,"unstable_getStaticParams"),j=(0,l.l)(u,"unstable_getServerProps"),N=(0,l.l)(u,"unstable_getServerSideProps"),S=new t.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/Account",pathname:"/Account",bundlePath:"",filename:""},components:{App:c(),Document:o()},userland:u});s()}catch(e){s(e)}})},220:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{Z:()=>d});var t=a(20997),i=a(16689),l=a(39332),n=a(16736),o=e([n]);n=(o.then?(await o)():o)[0];let d=({children:e,adminOnly:r=!1})=>{let a=(0,l.useRouter)(),{user:s,profile:o,isLoading:d}=(0,n.t)();return((0,i.useEffect)(()=>{d||s?d||!r||o?.is_admin||a.push("/"):a.push("/auth?redirect="+encodeURIComponent(window.location.pathname))},[s,o,d,a,r]),d)?t.jsx("div",{className:"flex items-center justify-center min-h-[50vh]",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):s&&(!r||o?.is_admin)?t.jsx(t.Fragment,{children:e}):null};s()}catch(e){s(e)}})},82730:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{z:()=>u});var t=a(20997),i=a(16689),l=a(14338),n=a(16926),o=a(95693),d=e([l,n,o]);[l,n,o]=d.then?(await d)():d;let c=(0,n.cva)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),u=i.forwardRef(({className:e,variant:r,size:a,asChild:s=!1,...i},n)=>{let d=s?l.Slot:"button";return t.jsx(d,{className:(0,o.cn)(c({variant:r,size:a,className:e})),ref:n,...i})});u.displayName="Button",s()}catch(e){s(e)}})},51330:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{Ol:()=>d,Zb:()=>o,aY:()=>p,ll:()=>c});var t=a(20997),i=a(16689),l=a(95693),n=e([l]);l=(n.then?(await n)():n)[0];let o=i.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...r}));o.displayName="Card";let d=i.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...r}));d.displayName="CardHeader";let c=i.forwardRef(({className:e,...r},a)=>t.jsx("h3",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));c.displayName="CardTitle";let u=i.forwardRef(({className:e,...r},a)=>t.jsx("p",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",e),...r}));u.displayName="CardDescription";let p=i.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("p-6 pt-0",e),...r}));p.displayName="CardContent";let m=i.forwardRef(({className:e,...r},a)=>t.jsx("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",e),...r}));m.displayName="CardFooter",s()}catch(e){s(e)}})},62631:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{I:()=>o});var t=a(20997),i=a(16689),l=a(95693),n=e([l]);l=(n.then?(await n)():n)[0];let o=i.forwardRef(({className:e,type:r,...a},s)=>t.jsx("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...a}));o.displayName="Input",s()}catch(e){s(e)}})},78581:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{_:()=>u});var t=a(20997),i=a(16689),l=a(10049),n=a(16926),o=a(95693),d=e([l,n,o]);[l,n,o]=d.then?(await d)():d;let c=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=i.forwardRef(({className:e,...r},a)=>t.jsx(l.Root,{ref:a,className:(0,o.cn)(c(),e),...r}));u.displayName=l.Root.displayName,s()}catch(e){s(e)}})},41356:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{O:()=>n});var t=a(20997),i=a(95693),l=e([i]);function n({className:e,...r}){return t.jsx("div",{className:(0,i.cn)("animate-pulse rounded-md bg-muted",e),...r})}i=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},18757:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{g:()=>o});var t=a(20997),i=a(16689),l=a(95693),n=e([l]);l=(n.then?(await n)():n)[0];let o=i.forwardRef(({className:e,...r},a)=>t.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...r}));o.displayName="Textarea",s()}catch(e){s(e)}})},33365:(e,r,a)=>{a.d(r,{O:()=>t});var s=a(92885);let t=(0,s.createClient)("https://your-supabase-url.supabase.co","your-supabase-anon-key")},95693:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{cn:()=>n});var t=a(16593),i=a(68097),l=e([t,i]);function n(...e){return(0,i.twMerge)((0,t.clsx)(e))}[t,i]=l.then?(await l)():l,s()}catch(e){s(e)}})},99800:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.r(r),a.d(r,{default:()=>h});var t=a(20997),i=a(16689),l=a(82730),n=a(51330),o=a(62631),d=a(78581),c=a(18757),u=a(16736),p=a(220),m=a(41356),f=a(94933),g=e([l,n,o,d,c,u,p,m]);[l,n,o,d,c,u,p,m]=g.then?(await g)():g;let h=()=>{let{profile:e,isLoading:r,updateProfile:a}=(0,u.t)(),[s,g]=(0,i.useState)(e?.full_name||""),[h,x]=(0,i.useState)(e?.address||""),[b,y]=(0,i.useState)(e?.phone||""),v=async e=>{e.preventDefault(),await a({full_name:s,address:h,phone:b})};return r||!e?t.jsx("div",{className:"container mx-auto px-4 py-12",children:t.jsx("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(n.Zb,{className:"overflow-hidden",children:[t.jsx(n.Ol,{className:"bg-blue-50 border-b",children:t.jsx(m.O,{className:"h-10 w-1/2"})}),(0,t.jsxs)(n.aY,{className:"p-6",children:[t.jsx("div",{className:"flex justify-center mb-6",children:t.jsx(m.O,{className:"h-24 w-24 rounded-full"})}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m.O,{className:"h-5 w-20"}),t.jsx(m.O,{className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m.O,{className:"h-5 w-20"}),t.jsx(m.O,{className:"h-10 w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(m.O,{className:"h-5 w-20"}),t.jsx(m.O,{className:"h-28 w-full"})]}),t.jsx(m.O,{className:"h-10 w-32"})]})]})]})})}):t.jsx(p.Z,{children:t.jsx("div",{className:"container mx-auto px-4 py-12",children:t.jsx("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)(n.Zb,{className:"overflow-hidden",children:[t.jsx(n.Ol,{className:"bg-blue-50 border-b",children:t.jsx(n.ll,{className:"text-xl",children:"My Account"})}),(0,t.jsxs)(n.aY,{className:"p-6",children:[t.jsx("div",{className:"flex justify-center mb-8",children:t.jsx("div",{className:"h-24 w-24 rounded-full bg-blue-100 flex items-center justify-center",children:t.jsx(f.Z,{className:"h-12 w-12 text-blue-600"})})}),(0,t.jsxs)("form",{onSubmit:v,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"fullName",children:"Full Name"}),t.jsx(o.I,{id:"fullName",value:s,onChange:e=>g(e.target.value),placeholder:"Your full name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"phone",children:"Phone Number"}),t.jsx(o.I,{id:"phone",value:b,onChange:e=>y(e.target.value),placeholder:"Your phone number"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{htmlFor:"address",children:"Shipping Address"}),t.jsx(c.g,{id:"address",value:h,onChange:e=>x(e.target.value),placeholder:"Your shipping address",rows:4})]}),t.jsx(l.z,{type:"submit",disabled:r,children:r?"Updating...":"Update Profile"})]})]})]})})})})};s()}catch(e){s(e)}})},16736:(e,r,a)=>{a.a(e,async(e,s)=>{try{a.d(r,{t:()=>n});var t=a(66912),i=a(33365),l=e([t]);t=(l.then?(await l)():l)[0];let n=(0,t.create)((e,r)=>({user:null,profile:null,isLoading:!0,error:null,initialize:async()=>{try{e({isLoading:!0});let{data:{session:r}}=await i.O.auth.getSession();if(!r){e({user:null,profile:null,isLoading:!1});return}let{data:a,error:s}=await i.O.from("user_profiles").select("*").eq("id",r.user.id).single();if(s){console.error("Error fetching profile:",s),e({user:r.user,profile:null,isLoading:!1});return}e({user:r.user,profile:a,isLoading:!1})}catch(r){console.error("Auth initialization error:",r),e({user:null,profile:null,isLoading:!1})}},signIn:async(r,a)=>{try{e({isLoading:!0,error:null});let{data:s,error:t}=await i.O.auth.signInWithPassword({email:r,password:a});if(t)return e({isLoading:!1,error:t.message}),{success:!1,error:t.message};let{data:l,error:n}=await i.O.from("user_profiles").select("*").eq("id",s.user.id).single();return n&&console.error("Error fetching profile:",n),e({user:s.user,profile:l,isLoading:!1}),{success:!0}}catch(r){return e({isLoading:!1,error:r.message}),{success:!1,error:r.message}}},signUp:async(r,a,s)=>{try{e({isLoading:!0,error:null});let{data:t,error:l}=await i.O.auth.signUp({email:r,password:a,options:{data:{full_name:s}}});if(l)return e({isLoading:!1,error:l.message}),{success:!1,error:l.message};if(t.user){let{error:e}=await i.O.from("user_profiles").insert([{id:t.user.id,full_name:s,email:r,is_admin:!1}]);e&&console.error("Error creating profile:",e)}return e({user:t.user,profile:t.user?{id:t.user.id,full_name:s,email:r,address:null,phone:null,is_admin:!1,created_at:new Date().toISOString()}:null,isLoading:!1}),{success:!0}}catch(r){return e({isLoading:!1,error:r.message}),{success:!1,error:r.message}}},signOut:async()=>{try{e({isLoading:!0}),await i.O.auth.signOut(),e({user:null,profile:null,isLoading:!1})}catch(r){console.error("Sign out error:",r),e({isLoading:!1})}},updateProfile:async a=>{try{let{profile:s}=r();if(!s)throw Error("No profile found");e({isLoading:!0});let{error:t}=await i.O.from("user_profiles").update(a).eq("id",s.id);if(t)throw t;e({profile:{...s,...a},isLoading:!1})}catch(r){console.error("Update profile error:",r),e({isLoading:!1})}}}));s()}catch(e){s(e)}})},92885:e=>{e.exports=require("@supabase/supabase-js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},10049:e=>{e.exports=import("@radix-ui/react-label")},14338:e=>{e.exports=import("@radix-ui/react-slot")},16926:e=>{e.exports=import("class-variance-authority")},16593:e=>{e.exports=import("clsx")},68097:e=>{e.exports=import("tailwind-merge")},66912:e=>{e.exports=import("zustand")},71017:e=>{e.exports=require("path")}};var r=require("../webpack-runtime.js");r.C(e);var a=e=>r(r.s=e),s=r.X(0,[687,118],()=>a(44659));module.exports=s})();