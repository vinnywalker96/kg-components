"use strict";(()=>{var e={};e.id=699,e.ids=[699,660],e.modules={51853:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(84297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7314:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(84297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},31012:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(84297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},69539:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(84297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},41352:(e,s,t)=>{t.d(s,{Z:()=>r});var a=t(84297);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},59549:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{config:()=>N,default:()=>h,getServerSideProps:()=>j,getStaticPaths:()=>p,getStaticProps:()=>u,reportWebVitals:()=>b,routeModule:()=>O,unstable_getServerProps:()=>y,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>g,unstable_getStaticProps:()=>v});var r=t(87093),l=t(35244),i=t(1323),c=t(60687),o=t.n(c),d=t(56041),n=t.n(d),x=t(49133),m=e([x]);x=(m.then?(await m)():m)[0];let h=(0,i.l)(x,"default"),u=(0,i.l)(x,"getStaticProps"),p=(0,i.l)(x,"getStaticPaths"),j=(0,i.l)(x,"getServerSideProps"),N=(0,i.l)(x,"config"),b=(0,i.l)(x,"reportWebVitals"),v=(0,i.l)(x,"unstable_getStaticProps"),g=(0,i.l)(x,"unstable_getStaticPaths"),f=(0,i.l)(x,"unstable_getStaticParams"),y=(0,i.l)(x,"unstable_getServerProps"),w=(0,i.l)(x,"unstable_getServerSideProps"),O=new r.PagesRouteModule({definition:{kind:l.x.PAGES,page:"/Cart",pathname:"/Cart",bundlePath:"",filename:""},components:{App:n(),Document:o()},userland:x});a()}catch(e){a(e)}})},73710:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.d(s,{Z:()=>d});var r=t(20997),l=t(16689),i=t(72994),c=t(95693),o=e([i,c]);[i,c]=o.then?(await o)():o;let d=l.forwardRef(({className:e,orientation:s="horizontal",decorative:t=!0,...a},l)=>r.jsx(i.Root,{ref:l,decorative:t,orientation:s,className:(0,c.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",e),...a}));d.displayName=i.Root.displayName,a()}catch(e){a(e)}})},49133:(e,s,t)=>{t.a(e,async(e,a)=>{try{t.r(s),t.d(s,{default:()=>v});var r=t(20997),l=t(16689);!function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}();var i=t(82730),c=t(51330),o=t(73710);!function(){var e=Error("Cannot find module '@/store/cartStore'");throw e.code="MODULE_NOT_FOUND",e}();var d=t(16736),n=t(75786),x=t(69539),m=t(7314),h=t(31012),u=t(51853),p=t(41352),j=t(220),N=t(41356),b=e([i,c,o,d,n,j,N]);[i,c,o,d,n,j,N]=b.then?(await b)():b;let v=()=>{let{items:e,total:s,isLoading:t,fetchCart:a,updateQuantity:b,removeFromCart:v}=Object(function(){var e=Error("Cannot find module '@/store/cartStore'");throw e.code="MODULE_NOT_FOUND",e}())(),{user:g}=(0,d.t)(),{createOrder:f,isLoading:y}=(0,n.L)(),w=Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}())();(0,l.useEffect)(()=>{g&&a()},[g,a]);let O=(e,s,t)=>{let a=s+t;a>=1&&b(e,a)},_=e=>{v(e)},S=async()=>{await f(),w("/orders")};return t?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Cart"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(c.Zb,{className:"p-6",children:[void 0,void 0,void 0].map((e,s)=>(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx(N.O,{className:"h-24 w-24 rounded"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx(N.O,{className:"h-6 w-3/4 mb-2"}),r.jsx(N.O,{className:"h-4 w-1/2 mb-2"}),r.jsx(N.O,{className:"h-8 w-32"})]}),r.jsx("div",{className:"w-24 text-right",children:r.jsx(N.O,{className:"h-6 w-full"})})]}),s<2&&r.jsx(o.Z,{className:"my-6"})]},s))})}),r.jsx("div",{children:(0,r.jsxs)(c.Zb,{className:"p-6",children:[r.jsx(N.O,{className:"h-8 w-1/2 mb-4"}),r.jsx(N.O,{className:"h-4 w-full mb-2"}),r.jsx(N.O,{className:"h-4 w-3/4 mb-6"}),r.jsx(N.O,{className:"h-10 w-full"})]})})]})]}):0===e.length?r.jsx("div",{className:"container mx-auto px-4 py-12",children:(0,r.jsxs)(c.Zb,{className:"p-8 max-w-2xl mx-auto text-center",children:[r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx(x.Z,{className:"h-16 w-16 text-gray-400"})}),r.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Your Cart is Empty"}),r.jsx("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added any products to your cart yet."}),r.jsx(Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}()),{to:"/shop",children:r.jsx(i.z,{children:"Continue Shopping"})})]})}):r.jsx(j.Z,{children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Your Cart"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-2",children:r.jsx(c.Zb,{className:"p-6",children:e.map((s,t)=>(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[r.jsx("div",{className:"h-24 w-24 bg-gray-100 rounded overflow-hidden",children:s.product.image_url?r.jsx("img",{src:s.product.image_url,alt:s.product.name,className:"h-full w-full object-cover"}):r.jsx("div",{className:"h-full w-full flex items-center justify-center text-gray-400",children:"No image"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx(Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}()),{to:`/product/${s.product_id}`,children:r.jsx("h3",{className:"font-semibold hover:text-blue-600",children:s.product.name})}),r.jsx("div",{className:"text-sm text-gray-500 mb-4",children:s.product.category?.name||"Uncategorized"}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("button",{onClick:()=>O(s.id,s.quantity,-1),className:"p-1 rounded-md border border-gray-300 hover:bg-gray-100",children:r.jsx(m.Z,{className:"h-4 w-4"})}),r.jsx("span",{className:"mx-3",children:s.quantity}),r.jsx("button",{onClick:()=>O(s.id,s.quantity,1),className:"p-1 rounded-md border border-gray-300 hover:bg-gray-100",disabled:s.quantity>=s.product.stock_quantity,children:r.jsx(h.Z,{className:"h-4 w-4"})}),s.quantity>=s.product.stock_quantity&&(0,r.jsxs)("span",{className:"ml-2 text-sm text-amber-600 inline-flex items-center",children:[r.jsx(u.Z,{className:"h-3 w-3 mr-1"}),"Max available"]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end justify-between",children:[r.jsx("button",{onClick:()=>_(s.id),className:"text-gray-400 hover:text-red-600","aria-label":"Remove item",children:r.jsx(p.Z,{className:"h-5 w-5"})}),(0,r.jsxs)("div",{className:"font-semibold",children:["$",(Number(s.product.price)*s.quantity).toFixed(2)]})]})]}),t<e.length-1&&r.jsx(o.Z,{className:"my-6"})]},s.id))})}),r.jsx("div",{children:(0,r.jsxs)(c.Zb,{className:"p-6 sticky top-24",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),(0,r.jsxs)("div",{className:"space-y-2 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between text-gray-600",children:[(0,r.jsxs)("span",{children:["Items (",e.reduce((e,s)=>e+s.quantity,0),")"]}),(0,r.jsxs)("span",{children:["$",s.toFixed(2)]})]}),r.jsx(o.Z,{}),(0,r.jsxs)("div",{className:"flex justify-between font-semibold text-lg",children:[r.jsx("span",{children:"Total"}),(0,r.jsxs)("span",{children:["$",s.toFixed(2)]})]})]}),r.jsx(i.z,{onClick:S,className:"w-full",size:"lg",disabled:y,children:y?"Processing...":"Proceed to Checkout"}),r.jsx("div",{className:"mt-4 text-center",children:r.jsx(Object(function(){var e=Error("Cannot find module 'react-router-dom'");throw e.code="MODULE_NOT_FOUND",e}()),{to:"/shop",className:"text-blue-600 hover:text-blue-800 text-sm",children:"Continue Shopping"})})]})})]})]})})};a()}catch(e){a(e)}})},92885:e=>{e.exports=require("@supabase/supabase-js")},54580:e=>{e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},20997:e=>{e.exports=require("react/jsx-runtime")},72994:e=>{e.exports=import("@radix-ui/react-separator")},14338:e=>{e.exports=import("@radix-ui/react-slot")},16926:e=>{e.exports=import("class-variance-authority")},16593:e=>{e.exports=import("clsx")},68097:e=>{e.exports=import("tailwind-merge")},66912:e=>{e.exports=import("zustand")},71017:e=>{e.exports=require("path")}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[687,118,851],()=>t(59549));module.exports=a})();