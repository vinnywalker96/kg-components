(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{17158:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},4322:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},93505:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});var a=t(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let s=(0,a.Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},52529:function(e,r,t){Promise.resolve().then(t.bind(t,29086))},29086:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return M}});var a=t(57437),s=t(2265),n=t(16691),i=t.n(n),c=t(24033),o=t(34421),l=t(86270),d=t(45727),u=t(23611),m=t(49598),f=t(70708),x=t(35217),p=t(62898);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,p.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),g=(0,p.Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);var y=t(93505),v=t(4322);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,p.Z)("Truck",[["path",{d:"M5 18H3c-.6 0-1-.4-1-1V7c0-.6.4-1 1-1h10c.6 0 1 .4 1 1v11",key:"hs4xqm"}],["path",{d:"M14 9h4l4 4v4c0 .6-.4 1-1 1h-2",key:"11fp61"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}]]),j=(0,p.Z)("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);var N=t(67256),k=t(17158),w=t(81628);let S=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("nav",{ref:r,"aria-label":"breadcrumb",className:(0,w.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground",t),...s})});S.displayName="Breadcrumb";let T=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("ol",{ref:r,className:(0,w.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground",t),...s})});T.displayName="BreadcrumbList";let A=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("li",{ref:r,className:(0,w.cn)("inline-flex items-center gap-1.5",t),...s})});A.displayName="BreadcrumbItem";let _=s.forwardRef((e,r)=>{let{asChild:t,className:s,...n}=e,i=t?N.g7:"a";return(0,a.jsx)(i,{ref:r,className:(0,w.cn)("hover:text-foreground transition-colors",s),...n})});_.displayName="BreadcrumbLink";let O=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,w.cn)("font-normal text-foreground",t),...s})});O.displayName="BreadcrumbPage";let C=e=>{let{children:r,className:t,...s}=e;return(0,a.jsx)("span",{role:"presentation","aria-hidden":"true",className:(0,w.cn)("[&>svg]:size-3.5",t),...s,children:null!=r?r:(0,a.jsx)(k.Z,{})})};C.displayName="BreadcrumbSeparator";let E="/images/placeholder-product.png";function M(){var e,r;let t=(0,c.useParams)(),n=(0,c.useRouter)(),{addToCart:p}=(0,l.x)(),{toast:N}=(0,d.p)(),[k,w]=(0,s.useState)(null),[O,M]=(0,s.useState)(!0),[R,D]=(0,s.useState)(null),[I,q]=(0,s.useState)(1);return((0,s.useEffect)(()=>{async function e(){try{M(!0);let e=(0,o.e)(),{data:r,error:a}=await e.from("products").select("\n            *,\n            category:categories(id, name)\n          ").eq("id",t.id).single();if(a)throw a;w(r)}catch(e){console.error("Error fetching product:",e),D(e.message||"Failed to load product")}finally{M(!1)}}t.id&&e()},[t.id]),O)?(0,a.jsx)("div",{className:"container mx-auto py-8",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 w-48 bg-gray-200 rounded mb-6"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"h-96 bg-gray-200 rounded"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"h-8 w-3/4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 w-1/4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 w-full bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-4 w-3/4 bg-gray-200 rounded"}),(0,a.jsx)("div",{className:"h-10 w-full bg-gray-200 rounded mt-8"})]})]})]})}):R||!k?(0,a.jsx)("div",{className:"container mx-auto py-8",children:(0,a.jsxs)(m.Zb,{className:"p-8 text-center",children:[(0,a.jsx)(h,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Product Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:R||"The product you are looking for does not exist or has been removed."}),(0,a.jsxs)(u.z,{onClick:()=>n.push("/shop"),children:[(0,a.jsx)(g,{className:"h-4 w-4 mr-2"}),"Back to Shop"]})]})}):(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[(0,a.jsx)(S,{className:"mb-6",children:(0,a.jsxs)(T,{children:[(0,a.jsx)(A,{children:(0,a.jsx)(_,{href:"/",children:"Home"})}),(0,a.jsx)(C,{}),(0,a.jsx)(A,{children:(0,a.jsx)(_,{href:"/shop",children:"Shop"})}),(0,a.jsx)(C,{}),(0,a.jsx)(A,{children:(0,a.jsx)(_,{href:"/shop?category=".concat(null===(e=k.category)||void 0===e?void 0:e.id),children:(null===(r=k.category)||void 0===r?void 0:r.name)||"Uncategorized"})}),(0,a.jsx)(C,{}),(0,a.jsx)(A,{children:(0,a.jsx)(_,{children:k.name})})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,a.jsx)("div",{className:"relative h-96 bg-gray-100 rounded-lg overflow-hidden",children:(0,a.jsx)(i(),{src:k.image_url||E,alt:k.name,fill:!0,sizes:"(max-width: 768px) 100vw, 50vw",className:"object-contain",onError:e=>{let r=e.target;r.src=E}})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:k.name}),(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[k.category&&(0,a.jsx)(f.C,{variant:"outline",className:"mr-2",children:k.category.name}),k.manufacturer&&(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["Manufacturer: ",k.manufacturer]})]}),(0,a.jsx)("div",{className:"text-2xl font-bold mb-4",children:"number"==typeof k.price?"R".concat(k.price.toFixed(2)):"Price on request"}),(0,a.jsx)("p",{className:"text-gray-700 mb-6",children:k.description}),k.sku&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-2",children:["SKU: ",k.sku]}),k.part_number&&(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-4",children:["Part Number: ",k.part_number]}),(0,a.jsx)(x.Separator,{className:"my-6"}),(0,a.jsxs)("div",{className:"flex items-center mb-6",children:[(0,a.jsxs)("div",{className:"mr-4",children:[(0,a.jsx)("label",{htmlFor:"quantity",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,a.jsx)("input",{type:"number",id:"quantity",min:"1",value:I,onChange:e=>{let r=parseInt(e.target.value);!isNaN(r)&&r>0&&q(r)},className:"w-20 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,a.jsxs)(u.z,{onClick:()=>{k&&(p(k,I),N.success("".concat(k.name," added to cart")))},size:"lg",disabled:k.stock<=0,className:"flex-1",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5 mr-2"}),k.stock>0?"Add to Cart":"Out of Stock"]})]}),(0,a.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(v.Z,{className:"h-5 w-5 mr-2 text-gray-600"}),(0,a.jsx)("span",{children:k.stock>0?"In stock (".concat(k.stock," available)"):"Out of stock"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(b,{className:"h-5 w-5 mr-2 text-gray-600"}),(0,a.jsx)("span",{children:"Free shipping on orders over R1000"})]}),k.external_url&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(j,{className:"h-5 w-5 mr-2 text-gray-600"}),(0,a.jsx)("a",{href:k.external_url,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"View on Mantech"})]})]})]})]})]})}},70708:function(e,r,t){"use strict";t.d(r,{C:function(){return c}});var a=t(57437);t(2265);var s=t(96061),n=t(81628);let i=(0,s.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:r,variant:t,...s}=e;return(0,a.jsx)("div",{className:(0,n.cn)(i({variant:t}),r),...s})}},23611:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var a=t(57437),s=t(2265),n=t(67256),i=t(96061),c=t(81628);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,r)=>{let{className:t,variant:s,size:i,asChild:l=!1,...d}=e,u=l?n.g7:"button";return(0,a.jsx)(u,{className:(0,c.cn)(o({variant:s,size:i,className:t})),ref:r,...d})});l.displayName="Button"},49598:function(e,r,t){"use strict";t.d(r,{Ol:function(){return c},Zb:function(){return i},aY:function(){return d},ll:function(){return o}});var a=t(57437),s=t(2265),n=t(81628);let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...s})});i.displayName="Card";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...s})});c.displayName="CardHeader";let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h3",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...s})});o.displayName="CardTitle";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("p",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",t),...s})});l.displayName="CardDescription";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",t),...s})});d.displayName="CardContent";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",t),...s})});u.displayName="CardFooter"},35217:function(e,r,t){"use strict";t.r(r),t.d(r,{Separator:function(){return c}});var a=t(57437),s=t(2265),n=t(26823),i=t(81628);let c=s.forwardRef((e,r)=>{let{className:t,orientation:s="horizontal",decorative:c=!0,...o}=e;return(0,a.jsx)(n.f,{ref:r,decorative:c,orientation:s,className:(0,i.cn)("shrink-0 bg-border","horizontal"===s?"h-[1px] w-full":"h-full w-[1px]",t),...o})});c.displayName=n.f.displayName},45727:function(e,r,t){"use strict";t.d(r,{A:function(){return u},p:function(){return m}});var a=t(2265);let s={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"},n=0,i=new Map,c=(e,r)=>{switch(r.type){case s.ADD_TOAST:return{...e,toasts:[r.toast,...e.toasts].slice(0,5)};case s.UPDATE_TOAST:return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case s.DISMISS_TOAST:{let{toastId:t}=r;return t?f(t):e.toasts.forEach(e=>{f(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case s.REMOVE_TOAST:if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},o=[],l={toasts:[]};function d(e){l=c(l,e),o.forEach(e=>{e(l)})}function u(e){let{...r}=e,t=(n=(n+1)%Number.MAX_VALUE).toString(),a=()=>d({type:s.DISMISS_TOAST,toastId:t});return d({type:s.ADD_TOAST,toast:{...r,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>d({type:s.UPDATE_TOAST,toast:{...e,id:t}})}}function m(){let[e,r]=a.useState(l);return a.useEffect(()=>(o.push(r),()=>{let e=o.indexOf(r);e>-1&&o.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>d({type:s.DISMISS_TOAST,toastId:e})}}function f(e){if(i.has(e))return;let r=setTimeout(()=>{i.delete(e),d({type:s.REMOVE_TOAST,toastId:e})},1e6);i.set(e,r)}},86270:function(e,r,t){"use strict";t.d(r,{x:function(){return n}});var a=t(94660),s=t(74810);let n=(0,a.Ue)()((0,s.tJ)((e,r)=>({cart:[],addToCart:(t,a)=>{let{cart:s}=r(),n=s.find(e=>e.product.id===t.id);n?e({cart:s.map(e=>e.product.id===t.id?{...e,quantity:e.quantity+a}:e)}):e({cart:[...s,{product:t,quantity:a}]})},removeFromCart:t=>{let{cart:a}=r();e({cart:a.filter(e=>e.product.id!==t)})},updateQuantity:(t,a)=>{let{cart:s}=r();e({cart:s.map(e=>e.product.id===t?{...e,quantity:a}:e)})},clearCart:()=>{e({cart:[]})},getCartTotal:()=>{let{cart:e}=r();return e.reduce((e,r)=>e+r.product.price*r.quantity,0)},getCartItemCount:()=>{let{cart:e}=r();return e.reduce((e,r)=>e+r.quantity,0)}}),{name:"kg-components-cart"}))},34421:function(e,r,t){"use strict";t.d(r,{e:function(){return s}});var a=t(84756);let s=()=>{let e="https://your-supabase-url.supabase.co",r="your-supabase-anon-key";if(!e||!r)throw Error("Missing Supabase environment variables");return(0,a.eI)(e,r)}},81628:function(e,r,t){"use strict";t.d(r,{cn:function(){return n}});var a=t(57042),s=t(74769);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.m6)((0,a.W)(r))}},36304:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return n}});let a=t(21024),s=a._(t(2265)),n=s.default.createContext(null)}},function(e){e.O(0,[895,811,993,971,472,744],function(){return e(e.s=52529)}),_N_E=e.O()}]);